{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport router from \"@/router/router\";\nexport default {\n  name: 'CreateCourse',\n  components: {},\n  data() {\n    return {\n      course: {\n        name: \"\",\n        descriptiion: \"\",\n        duration: \"\",\n        price: \"\",\n        img: \"\"\n      },\n      inputError: \"\"\n    };\n  },\n  methods: {\n    create() {\n      if (!this.inputError) {\n        //параметры проставить, добавить маршрут в апи, добавить функцию в контроллер\n        axios.post('http://localhost/api/create_course', {\n          title: this.course.name,\n          descript: this.course.descriptiion,\n          duration: this.course.duration,\n          price: this.course.price,\n          lecturer_id: 2,\n          img: \"../../public/user.png\"\n        }).then(() => {\n          // localStorage.setItem('user', response.data.token)\n          // this.$store.commit('setToken', response.data.token)\n          router.push({\n            name: '/profile'\n          });\n        }).catch(errors => this.inputError = errors.response.data.message);\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","router","name","components","data","course","descriptiion","duration","price","img","inputError","methods","create","post","title","descript","lecturer_id","then","push","catch","errors","response","message"],"sources":["/Users/nastabujvalo/Documents/veb/back/app/frontend/src/components/CreateCourse.vue"],"sourcesContent":["<template>\n<div className=\"form\" @submit.prevent=\"create\">\n            <h2>Курс</h2>\n            <label htmlFor=\"text\">Название</label>\n            <input v-model=\"this.course.name\"\n                id=\"name\"\n                name=\"name\"\n                type=\"text\"            \n            />\n        \n\n            <label htmlFor=\"text\">Выберите фото для обложки курса: </label>\n            <input type=\"file\" name=\"AddImage\" id=\"AddImage\" accept=\"image/*\" placeholder='фото профиля'/>\n\n            <label htmlFor=\"text\">Описание</label>\n            <input\n                id=\"description\"\n                name=\"description\"\n                as=\"textarea\"\n                v-model=\"this.course.descriptiion\"\n            />\n            <label htmlFor=\"text\">Длительность</label>\n            <input\n                id=\"duration\"\n                name=\"duration\"\n                type=\"text\"\n                v-model=\"this.course.duration\"\n\n            />\n\n            <label htmlFor=\"text\">Цена</label>\n            <input\n                id=\"name\"\n                name=\"price\"\n                type=\"text\"\n                v-model=\"this.course.price\"\n            />\n            \n             <div className='btns'>\n                <button type=\"submit\" className='btns_registration' onClick={onCreate}>Создать</button>\n            </div>\n        </div>\n</template>\n\n<script>\nimport axios from 'axios'\nimport router from \"@/router/router\"\nexport default {\n  name: 'CreateCourse',\n  components: {\n  \n  },\n  data(){\n    return{\n        course:{\n            name: \"\",\n            descriptiion:\"\",\n            duration:\"\",\n            price: \"\",\n            img:\"\"\n        },\n        inputError:\"\"\n    }\n  },\n  methods:{\n    create(){\n        if (!this.inputError) {\n        //параметры проставить, добавить маршрут в апи, добавить функцию в контроллер\n        axios.post('http://localhost/api/create_course', \n            {   title: this.course.name, \n                descript: this.course.descriptiion,\n                duration:this.course.duration,\n                price:this.course.price,\n                lecturer_id: 2,\n                img: \"../../public/user.png\"\n                })\n            .then(() => {\n                // localStorage.setItem('user', response.data.token)\n                // this.$store.commit('setToken', response.data.token)\n                router.push({name: '/profile'})\n            })\n            .catch((errors) => this.inputError= errors.response.data.message)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n</style>"],"mappings":";AA6CA,OAAOA,KAAI,MAAO,OAAM;AACxB,OAAOC,MAAK,MAAO,iBAAgB;AACnC,eAAe;EACbC,IAAI,EAAE,cAAc;EACpBC,UAAU,EAAE,CAEZ,CAAC;EACDC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACFC,MAAM,EAAC;QACHH,IAAI,EAAE,EAAE;QACRI,YAAY,EAAC,EAAE;QACfC,QAAQ,EAAC,EAAE;QACXC,KAAK,EAAE,EAAE;QACTC,GAAG,EAAC;MACR,CAAC;MACDC,UAAU,EAAC;IACf;EACF,CAAC;EACDC,OAAO,EAAC;IACNC,MAAMA,CAAA,EAAE;MACJ,IAAI,CAAC,IAAI,CAACF,UAAU,EAAE;QACtB;QACAV,KAAK,CAACa,IAAI,CAAC,oCAAoC,EAC3C;UAAIC,KAAK,EAAE,IAAI,CAACT,MAAM,CAACH,IAAI;UACvBa,QAAQ,EAAE,IAAI,CAACV,MAAM,CAACC,YAAY;UAClCC,QAAQ,EAAC,IAAI,CAACF,MAAM,CAACE,QAAQ;UAC7BC,KAAK,EAAC,IAAI,CAACH,MAAM,CAACG,KAAK;UACvBQ,WAAW,EAAE,CAAC;UACdP,GAAG,EAAE;QACL,CAAC,EACJQ,IAAI,CAAC,MAAM;UACR;UACA;UACAhB,MAAM,CAACiB,IAAI,CAAC;YAAChB,IAAI,EAAE;UAAU,CAAC;QAClC,CAAC,EACAiB,KAAK,CAAEC,MAAM,IAAK,IAAI,CAACV,UAAU,GAAEU,MAAM,CAACC,QAAQ,CAACjB,IAAI,CAACkB,OAAO;MACtE;IACF;EACF;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}